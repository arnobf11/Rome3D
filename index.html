<!DOCTYPE html>
<html lang="my">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåå 3D Lottery Generator - Space Edition</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at 20% 20%, #0b0f25, #000);
      color: #e0e6ff;
      text-align: center;
      padding: 40px;
    }

    h1 {
      font-size: 2em;
      color: #8ab4ff;
      text-shadow: 0 0 15px #4c8cff;
      margin-bottom: 20px;
    }

    .input-section {
      background: rgba(20, 25, 45, 0.85);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 0 20px rgba(100, 150, 255, 0.3);
      display: inline-block;
      border: 1px solid rgba(100,150,255,0.2);
    }

    label {
      font-weight: 600;
      color: #b3c4ff;
    }

    input[type="text"] {
      padding: 10px;
      font-size: 1.1em;
      width: 160px;
      text-align: center;
      border-radius: 10px;
      border: 1px solid #4c8cff;
      background: #0b0f25;
      color: #fff;
      margin: 10px 0;
      outline: none;
      box-shadow: 0 0 10px rgba(76,140,255,0.2);
      transition: 0.3s;
    }

    button {
      background: linear-gradient(135deg, #4c8cff, #7a5cff);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
      margin-top: 10px;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(122,92,255,0.6);
    }

    .result-section {
      margin-top: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }

    #summary {
      background: rgba(25, 30, 60, 0.8);
      border-radius: 10px;
      padding: 12px;
      color: #b0c3ff;
      box-shadow: 0 0 10px rgba(76,140,255,0.3);
    }

    #normalResult {
      background: rgba(10, 15, 35, 0.8);
      padding: 12px;
      border-radius: 12px;
      margin-top: 15px;
      white-space: pre-wrap;
      line-height: 1.6;
      font-family: monospace;
      color: #a8bfff;
      box-shadow: 0 0 12px rgba(80,120,255,0.2);
    }

    #copyBtn {
      display: none;
      margin-top: 10px;
      background: linear-gradient(135deg, #00d4ff, #007bff);
    }

    /* üîπ User Guide Button */
    #guideBtn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #4c8cff, #00d4ff);
      padding: 10px 18px;
      border-radius: 12px;
      border: none;
      font-weight: 600;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    #guideBtn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 12px rgba(0, 200, 255, 0.6);
    }
  </style>
</head>
<body>
  <button id="guideBtn" onclick="window.location.href='guide.html'">üìò User Guide</button>

  <h1>üåå 3D Lottery Generator - By Rome</h1>

  <div class="input-section">
    <label>Enter digits (3‚Äì10):</label><br>
    <input type="text" id="digits" maxlength="10"><br>
    <label><input type="checkbox" id="allowRepeat"> Allow Repeats</label><br>
    <button id="generate">Generate</button>
  </div>

  <div class="result-section">
    <h2>Results</h2>
    <p id="summary"></p>
    <div id="normalResult"></div>
    <button id="copyBtn">üìã Copy Results</button>
  </div>

  <script>
    const copyBtn = document.getElementById("copyBtn");

    document.getElementById("generate").addEventListener("click", () => {
      const digits = document.getElementById("digits").value.trim();
      const allowRepeat = document.getElementById("allowRepeat").checked;

      if (digits === "·ÄÅ·ÄΩ") return displayKhweResults();
      if (digits === "·Ä°·Äï·Ä∞·Ä∏") return displayApueResults();

      if (digits.length < 3 || digits.length > 10) {
        alert("Please enter between 3 and 10 digits, or type '·ÄÅ·ÄΩ' / '·Ä°·Äï·Ä∞·Ä∏'.");
        return;
      }

      const result = generate3D(digits, allowRepeat);
      displayResults(result);
    });

    function generate3D(digits, allowRepeat) {
      const arr = digits.split('');
      let normal = [];

      if (allowRepeat) {
        for (let a of arr)
          for (let b of arr)
            for (let c of arr)
              normal.push(a + b + c);
      } else {
        for (let i = 0; i < arr.length; i++)
          for (let j = 0; j < arr.length; j++)
            for (let k = 0; k < arr.length; k++)
              if (i !== j && j !== k && i !== k)
                normal.push(arr[i] + arr[j] + arr[k]);
      }

      return { input: digits, allowRepeat, normalCount: normal.length, normal };
    }

    function displayResults({input, normalCount, normal}) {
      // Triple Section
      const triples = [];
      for (let i = 0; i <= 9; i++) {
        const t = `${i}${i}${i}`;
        if (normal.includes(t)) triples.push(t);
      }
      const filtered = normal.filter(n => !triples.includes(n));

      let outputText = "";
      if (triples.length > 0) {
        outputText += "--- üí† Triple Set ---\n" + triples.join(", ") + "\n\n";
      }
      outputText += "--- Rome 3D ---\n" + filtered.join(", ");

      document.getElementById("summary").innerText =
        `Input: ${input}\nRome 3D: ${normalCount} sets`;
      document.getElementById("normalResult").innerText = outputText;

      copyBtn.style.display = "inline-block";
      copyBtn.onclick = () => copyToClipboard(outputText);
    }

    function displayKhweResults() {
      const khwe = ["101","202","303","404","505","606","707","808","909"];
      document.getElementById("summary").innerText = 
        `Mode: ·ÄÅ·ÄΩ Mode üåå\nTotal: ${khwe.length} sets`;
      document.getElementById("normalResult").innerText =
        "--- ·ÄÅ·ÄΩ Set ---\n" + khwe.join(", ");
      copyBtn.style.display = "inline-block";
      copyBtn.onclick = () => copyToClipboard(khwe.join(", "));
    }

    function displayApueResults() {
      const apue = ["001","002","003","004","005","006","007","008","009"];
      document.getElementById("summary").innerText =
        `Mode: ·Ä°·Äï·Ä∞·Ä∏ Mode üå†\nTotal: ${apue.length} sets`;
      document.getElementById("normalResult").innerText =
        "--- ·Ä°·Äï·Ä∞·Ä∏ Set ---\n" + apue.join(", ");
      copyBtn.style.display = "inline-block";
      copyBtn.onclick = () => copyToClipboard(apue.join(", "));
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        copyBtn.innerText = "‚úÖ Copied!";
        setTimeout(() => copyBtn.innerText = "üìã Copy Results", 1500);
      });
    }
  </script>
</body>
</html>
